<script>
const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ2pf9XZb9Ck5PcU1KQDk_Wc6ujJQVPdvIqIq75etqQchIrrY0avbDjv8cZ1OqRo5Y6cks0qexAVrUx/gviz/tq?tqx=out:json";

fetch(sheetURL)
  .then(res => res.text())
  .then(text => {
    const json = JSON.parse(text.substr(47).slice(0, -2));
    const rows = json.table.rows;

    console.log("RAW SHEET DATA:", rows); // <-- IMPORTANT

    const container = document.getElementById("jobs-list");
    container.innerHTML = "";

    if (!rows.length) {
      container.innerHTML = `<p class='no-jobs'>No jobs posted yet.</p>`;
      return;
    }

    rows.forEach(row => {
      let cells = row.c.map(c => c ? c.v : "");

      console.log("ROW:", cells); // <-- SEE EXACT INDEXES

      // TRY TEMPORARY CHECK:
      container.innerHTML += JSON.stringify(cells) + "<br><br>";
    });
  })
  .catch(err => {
    document.getElementById("jobs-list").innerHTML = "Error loading jobs.";
    console.error(err);
  });
</script>
